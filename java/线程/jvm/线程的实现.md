# 线程的实现

1.2 之前 JVM 是用绿色线程来实现，也就是有虚拟机本身来实现线程的调度，而不是通过内核调度的。所以绿色进程是用户级别的进程。

Jvm 没有规定线程的具体实现方式，但是规定线程的实现是基于操作系统原生的线程模型来实现

对于 sun jdk 来讲，它的 windows 版本与 linux 版本使用一条 Java 线程映射一条轻量级进程之中

在 solaris 平台当中，操作系统提供一对一和多对多的线程模型，所以需要通过指定线程模型

# 内核线程

内核线程就是直接由操作系统内核支持的线程，这种线程由内核来完成线程的切换，内核通过操纵调度器对线程进行调度，并负责将线程的任务映射到各个处理器上

# 用户线程

用户线程有两种说法，一种是除了内核线程的都是用户线程，所以轻量级进程也属于用户线程，第二种是完全建立在用户空间的线程库上的线程，这种线程是内核无法感知到的。

用户线程的建立、同步、销毁、调度完全在用户空间当中完成，不需要内核帮助。这种线程的实现方式可以支持规模较大的线程数量并且不需要切换到内核当中去消耗低效率高，但是没有内核的支持实现较为复杂

## 轻量进程

轻量进程值得是内核线程的一种高级接口，也相当于平时说的线程，每一个轻量进程都有一个内核线程支持，是一对一的关系
