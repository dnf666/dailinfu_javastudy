# 方法区

方法区当中存储已经被虚拟机加载的 类信息 常量 静态变量 即使编译器编译后的代码等数据

如果一个类被 ClassLoader 加载, 那么就会在方法区生成一个代表该类的 Class 对象(唯一一种不在堆上生成的对象), 该对象将作为程序访问方法区当中该类的信息的外部接口, 该类也是实现 **反射** 的基础

因为所有被加载到内存的 Class 信息应该被所线程都能获取到, 所以方法区是线程共享的

Java 7 之前, HotSpot 将 Gc 分代收集扩展到了方法区, 使用永久代来实现方法区, 主要针对常量池的回收和类的卸载

Java 7 之后, 逐渐将方法区从永久代移除, Java 7 已经将运行时常量池永久从永久代移除, 在 Java 堆当中开辟了一块内存区域存放运行时常量池

Java 8, 永久代被彻底移除, 将方法区放到了一个与堆不相连的区域, 叫做元空间

规定了一种异常
- OutOfMemoryError 当方法区无法满足内存分配的需求时
