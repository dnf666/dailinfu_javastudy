### 如果让你设计一个大型网站。你会如何设计
设计大型网站
首先分析需求，表面的功能需求，和内部需求
因为这是一个大型网站。所以有海量数据，如何读和取这些数据是个问题。
考虑并发，估计最大的并发量
考虑负载均衡
如何提高性能
防止别人的攻击
消息中间键 metaq和notify和Kafka、RabbitMQ
大型网站一般是分布式架构，保证数据一致性，数据的安全，rpc
还有就是日志和数据挖掘，日志如何收集
防止天灾人祸

接下来我会分析我们有多少人开发。如何在deadline之前实现。我们哪些技术是可用的。需要学习新的技术吗
开始进行技术选型。使用哪些技术
画出结构图
### 单点故障解决方案
设置一个动态配置中心，将服务器信息和地址存到动态配置中心。如果服务器关机。则将他退出配置中心
可以使用zookeeper，configserver
### 如何保证session的同步
使用几台缓存服务器存储session。最好用sessionid作为key
#### 解决读和取海量数据方案
如果使用关系型数据库
按照业务拆数据库
主从数据库读写分离
读写分离只是去掉了主数据库的读压力，写压力分库分表
使用分布式数据库
### 实现负载均衡
    使用nginx和tengine

### 常见的网络攻击
  xss攻击(恶意脚本攻击)，csrf攻击（），sql注入攻击。ddocs攻击（抢占大量资源让其他用户无法访问。使用https协议
#### 用什么实现远程调用
      阿里的好舒服框架（hsf）
      dubbo框架

### 如何保证高峰期系统稳定性
    为了保证所以我们还是先来做一个压力测试。系统到底能不能承受的住
    如果处于高峰的服务无法承受
    保证主服务的运行，分配其他服务的资源来帮助主服务
    或者限制系统的流量

### 提高性能
    为了解决数据读取和处理速度的不一致，使用分布式缓存，
    寻找性能瓶颈，并对其优化。我比较了解sql优化
### 缓存问题

###缓存穿透和缓存雪崩，缓存击穿
      缓存穿透是多次查询一个绝对不存在的数据
      解决：过滤掉这种请求，或者也作为缓存，但是不能存在太久
      缓存雪崩：设置了相同的缓存过期时间。同一时间缓存全部过期。导致请求全部访问数据库。把数据库压垮
      解决：将缓存的过期时间设置为不同
      缓存击穿：大量请求同时请求同一个已过期的key值，。导致请求全部打到数据库。把数据库压垮
