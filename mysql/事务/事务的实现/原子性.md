# 原子性

回滚日志来实现

数据库当中的事务在执行的时候, 事务对数据的修改都会记录相反的操作到 undo log 日志当中同时会记录修改的记录到 redo log 日志当中, 如果事务需要回滚, 那么就会依照这个修改日志来回滚, 如果没有问题, 就会对数据对应的行进行写入操作

在原子性的实现当中, 关键应该是 undo log, redo log 可能是为了提高磁盘的 i/o 当 redo log 当中的数据到一定程度或事务提交的时候一次性写入

## undo log && redo log

undo log 是逻辑日志, 根据每行的记录进行记录, 恢复事务对数据库数据的修改

redo log 是物理日志, 记录的是物理的修改记录, 由于特殊原因数据丢失需要恢复数据库之前的数据
