# 并发插入

并发插入是为了解决读和插入写操作串行执行导致效率过低的问题, 所以 Mysql 提供一个系统变量 **concurrent_insert** 来控制在什么样的条件下, 允许在表的末尾插入的数据

比如一个 session 获取了 demo 表的 READ LOCAL 锁, 该线程可以对表进行查询炒作, 但不能对表进行更新操作, 其它的线程可以根据 **concurrent_insert** 变量的值来对 demo 表进行并发插入操作

## concurret_insert 取值说明

- 0 不允许并发插入
- 1 如果 MyISAM 表当中没有空洞(即表当中没有被删除的行), MyISAM 允许在一个进程度表的同时, 另一个进程从 **表尾** 插入记录 (默认设置)
- 2 MyISAM表当中无论有没有空洞, 都允许在表尾并发插入

*?* 为什么要考虑有没有空洞这个问题
